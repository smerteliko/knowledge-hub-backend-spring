# Spring Boot will automatically use the 'test' profile for tests.

# JPA (H2 In-Memory Database)
# Test profile properties

#spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://knowledgehub-postgres-db:5432/knowledgehub_db_test}
#spring.datasource.username=${SPRING_DATASOURCE_USERNAME:user}
#spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Disable some features for faster tests
spring.jpa.defer-datasource-initialization=true
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# Elasticsearch (will be overridden by Testcontainers if needed)
spring.data.elasticsearch.repositories.enabled=false
spring.data.elasticsearch.repositories.type=none

spring.main.allow-circular-references=true

# JWT Configuration (Test values)
jwt.secret=TestSecretKeyForTestingTestingTestingTestingTesting
jwt.expiration=3600000

# Elasticsearch - Will be overridden by Testcontainers later, but required for context loading
spring.elasticsearch.uris=${SPRING_ELASTICSEARCH_URIS:http://localhost:9200}
spring.elasticsearch.connection-timeout=10s
spring.elasticsearch.socket-timeout=30s
